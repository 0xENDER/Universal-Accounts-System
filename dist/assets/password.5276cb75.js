import{k as g,o as v,c as s,i as b,s as x,t as c}from"./index.ccc1d77b.js";import{T as _}from"./Title.a581f7e6.js";import{M as C,F as f,B as m}from"./FlexContainer.c7575bdc.js";import{I as h,N as I,s as i}from"./Notice.f3f6c788.js";import{C as B}from"./CheckBox.16f94f05.js";import{b as k,r as w,I as N,n as T,l as $,h as M,c as S,a as A}from"./register.a82510cd.js";const D=c("<h1>Choose a password!</h1>"),z=c("<br>"),F=c("<h3>Choose a <!> for your account!</h3>"),P=c('<input id="username-hidden" type="username" style="display: none;" value="TestUsername">');function O(y){let d=g(),r,l,n,u,p;return v(()=>{r=k(l,"password","password_confirm"),p.value=w.username}),y.report(),[s(_,{children:"Sign Up"}),D.cloneNode(!0),z.cloneNode(!0),(()=>{const e=F.cloneNode(!0),t=e.firstChild,a=t.nextSibling;return a.nextSibling,b(e,s(C,{children:"secure password"}),a),e})(),s(f,{space:"around",style:{width:"400px"},get children(){return[(()=>{const e=P.cloneNode(!0);return x(e,"red",p),e})(),s(N,{get children(){return[s(h,{ref(e){const t=n;typeof t=="function"?t(e):n=e},id:"password",type:"password",label:"Password",autocomplete:"off",style:{width:"calc(100% - 8px)"}}),s(h,{ref(e){const t=u;typeof t=="function"?t(e):u=e},id:"password_confirm",type:"password",label:"Confirmation",autocomplete:"off",style:{width:"calc(100% - 8px)"}}),s(B,{id:"showPassword",label:"Show password",style:{margin:"8px","margin-right":"auto"},checked:!1,onActive:function(){document.getElementById("password").type="text",document.getElementById("password_confirm").type="text"},onInactive:function(){document.getElementById("password").type="password",document.getElementById("password_confirm").type="password"}})]}}),s(I,{children:"The password must be at least 10 characters long, with a mix of letters and numbers! (Note that it's recommended to mix in a few special characters)"}),s(f,{space:"between",horozontal:!0,"no-grow":!0,get children(){return[s(m,{type:"action",function:function(){history.back()},children:"Go back"}),s(m,{ref(e){const t=l;typeof t=="function"?t(e):l=e},type:"action",function:function(){T(l,function(e,t){let a=n.children[0].children[0],o=u.children[0].children[0];a.value.length<10||a.value.length>128?(i(n,!1,"Must be from 10 up to 128 characters long!"),o.value="",setTimeout(r,1),e()):!/[a-zA-Z]/.test(a.value)&&!/[0-9]/.test(a.value)?(i(n,!1,"Must contain letters and numbers!"),o.value="",setTimeout(r,1),e()):/[a-zA-Z]/.test(a.value)?/[0-9]/.test(a.value)?o.value!=a.value&&(i(u,!1,"Does not match the password!"),o.value="",setTimeout(r,1),o.focus(),e()):(i(n,!1,"Must contain at least one number!"),o.value="",setTimeout(r,1),e()):(i(n,!1,"Must contain at least one letter!"),o.value="",setTimeout(r,1),e()),t()},function(){$(function(){w.passwordHash=M(n.children[0].children[0].value),S(3,function(e){e?A(d):d("/user/register/personal")})})})},primary:!0,children:"Next"})]}})]}})]}export{O as default};
