import{e as x,a as _,n as h,y as w,o as C,c as n,i as b,u as B,B as y,t as d,z as I,A as T}from"./index.9baaabd4.js";import{T as N}from"./Title.a581f7e6.js";import{c as $,a as k,I as g,N as M,B as S,n as A,s as l,r as v}from"./register.1f24917c.js";import{M as D,F as P}from"./FlexContainer.d71fa80c.js";import{C as z}from"./CheckBox.9c78c9b9.js";const F=d("<h1>Choose a password!</h1>"),U=d("<br>"),H=d("<h3>Choose a <!> for your account!</h3>"),R=d('<input id="username-hidden" type="username" style="display: none;" value="TestUsername">');function j(f){let p=x(),r,u,s,i,c,m=()=>{s.children[0].children[0].value="",i.children[0].children[0].value="",c.value=""};return _(()=>{r=$(u,"password","password_confirm"),c.value=h.username,w(2,function(e){e?v(p):f.pageLoaded()})}),C(()=>{f.pageUnloading()}),[n(N,{children:"Sign Up"}),F.cloneNode(!0),U.cloneNode(!0),(()=>{const e=H.cloneNode(!0),t=e.firstChild,a=t.nextSibling;return a.nextSibling,b(e,n(D,{children:"secure password"}),a),e})(),n(P,{space:"around",style:{width:"400px"},get children(){return[(()=>{const e=R.cloneNode(!0),t=c;return typeof t=="function"?B(t,e):c=e,e})(),n(k,{get children(){return[n(g,{ref(e){const t=s;typeof t=="function"?t(e):s=e},id:"password",type:"password",label:"Password",autocomplete:"new-password",style:{width:"calc(100% - 8px)"}}),n(g,{ref(e){const t=i;typeof t=="function"?t(e):i=e},id:"password_confirm",type:"password",label:"Confirmation",autocomplete:"new-password",style:{width:"calc(100% - 8px)"}}),n(z,{id:"showPassword",label:"Show password",style:{margin:"8px","margin-right":"auto"},checked:!1,onActive:function(){document.getElementById("password").type="text",document.getElementById("password_confirm").type="text"},onInactive:function(){document.getElementById("password").type="password",document.getElementById("password_confirm").type="password"}})]}}),n(M,{children:"The password must be at least 10 characters long, with a mix of letters and numbers! (Note that it's recommended to mix in a few special characters)"}),n(S,{get children(){return[n(y,{type:"action",function:function(){m(),setTimeout(function(){history.back()},1)},children:"Go back"}),n(y,{ref(e){const t=u;typeof t=="function"?t(e):u=e},type:"action",function:function(){A(u,function(e,t){let a=s.children[0].children[0],o=i.children[0].children[0];a.value.length<10||a.value.length>128?(l(s,!1,"Must be from 10 up to 128 characters long!"),o.value="",setTimeout(r,1),e()):!/[a-zA-Z]/.test(a.value)&&!/[0-9]/.test(a.value)?(l(s,!1,"Must contain letters and numbers!"),o.value="",setTimeout(r,1),e()):/[a-zA-Z]/.test(a.value)?/[0-9]/.test(a.value)?o.value!=a.value&&(l(i,!1,"Does not match the password!"),o.value="",setTimeout(r,1),o.focus(),e()):(l(s,!1,"Must contain at least one number!"),o.value="",setTimeout(r,1),e()):(l(s,!1,"Must contain at least one letter!"),o.value="",setTimeout(r,1),e()),I(function(){t()})},function(){h.passwordHash=T(s.children[0].children[0].value),w(3,function(e){e?(m(),setTimeout(function(){v(p)},1)):p("/user/register/personal")})})},primary:!0,children:"Next"})]}})]}})]}export{j as default};
