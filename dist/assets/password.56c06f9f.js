import{k as v,o as x,c as n,i as _,u as b,t as u}from"./index.580d6795.js";import{T as C}from"./Title.a581f7e6.js";import{M as I,F as m,B as h}from"./FlexContainer.3a870b54.js";import{I as w,N as B,s as l}from"./Notice.29bcc37b.js";import{C as k}from"./CheckBox.fd645763.js";import{b as N,r as y,I as T,n as $,l as M,h as S,c as A,a as D}from"./register.3dc10887.js";const P=u("<h1>Choose a password!</h1>"),z=u("<br>"),F=u("<h3>Choose a <!> for your account!</h3>"),H=u('<input id="username-hidden" type="username" style="display: none;" value="TestUsername">');function j(g){let p=v(),r,c,a,i,d,f=()=>{a.children[0].children[0].value="",i.children[0].children[0].value=""};return x(()=>{r=N(c,"password","password_confirm"),d.value=y.username}),g.report(),[n(C,{children:"Sign Up"}),P.cloneNode(!0),z.cloneNode(!0),(()=>{const e=F.cloneNode(!0),t=e.firstChild,s=t.nextSibling;return s.nextSibling,_(e,n(I,{children:"secure password"}),s),e})(),n(m,{space:"around",style:{width:"400px"},get children(){return[(()=>{const e=H.cloneNode(!0),t=d;return typeof t=="function"?b(t,e):d=e,e})(),n(T,{get children(){return[n(w,{ref(e){const t=a;typeof t=="function"?t(e):a=e},id:"password",type:"password",label:"Password",autocomplete:"off",style:{width:"calc(100% - 8px)"}}),n(w,{ref(e){const t=i;typeof t=="function"?t(e):i=e},id:"password_confirm",type:"password",label:"Confirmation",autocomplete:"off",style:{width:"calc(100% - 8px)"}}),n(k,{id:"showPassword",label:"Show password",style:{margin:"8px","margin-right":"auto"},checked:!1,onActive:function(){document.getElementById("password").type="text",document.getElementById("password_confirm").type="text"},onInactive:function(){document.getElementById("password").type="password",document.getElementById("password_confirm").type="password"}})]}}),n(B,{children:"The password must be at least 10 characters long, with a mix of letters and numbers! (Note that it's recommended to mix in a few special characters)"}),n(m,{space:"between",horozontal:!0,"no-grow":!0,get children(){return[n(h,{type:"action",function:function(){f(),history.back()},children:"Go back"}),n(h,{ref(e){const t=c;typeof t=="function"?t(e):c=e},type:"action",function:function(){$(c,function(e,t){let s=a.children[0].children[0],o=i.children[0].children[0];s.value.length<10||s.value.length>128?(l(a,!1,"Must be from 10 up to 128 characters long!"),o.value="",setTimeout(r,1),e()):!/[a-zA-Z]/.test(s.value)&&!/[0-9]/.test(s.value)?(l(a,!1,"Must contain letters and numbers!"),o.value="",setTimeout(r,1),e()):/[a-zA-Z]/.test(s.value)?/[0-9]/.test(s.value)?o.value!=s.value&&(l(i,!1,"Does not match the password!"),o.value="",setTimeout(r,1),o.focus(),e()):(l(a,!1,"Must contain at least one number!"),o.value="",setTimeout(r,1),e()):(l(a,!1,"Must contain at least one letter!"),o.value="",setTimeout(r,1),e()),t()},function(){M(function(){y.passwordHash=S(a.children[0].children[0].value),A(3,function(e){e?(f(),D(p)):p("/user/register/personal")})})})},primary:!0,children:"Next"})]}})]}})]}export{j as default};
