import{k as b,o as x,c as a,i as f,t as u}from"./index.434d493f.js";import{T as _}from"./Title.a581f7e6.js";import{M as p,F as m,B as h}from"./FlexContainer.5e5d4d1d.js";import{I as g,N,s as v}from"./Notice.4cf9ac25.js";const C=u("<div></div>"),I=u("<h1>Create a Ciel account</h1>"),$=u("<br>"),w=u("<h3>Enter your <!> and <!>!</h3>");function E(n){return(()=>{const r=C.cloneNode(!0);return r.style.setProperty("width","100%"),r.style.setProperty("position","relative"),r.style.setProperty("overflow","hidden"),f(r,()=>n.children),r})()}function S(n,...r){let l=[],i=[];n.setAttribute("disabled","");function o(){n.removeAttribute("disabled");for(let e=0;e<l.length;e++)if(l[e].value.replace(/\s/gi,"")==""){n.setAttribute("disabled","");break}for(let e=0;e<i.length;e++)if(i[e].selectedIndex<1){n.setAttribute("disabled","");break}}r.forEach(function(e){let t=document.getElementById(e);if(t.tagName=="INPUT")l.push(t),t.hasValue=t.value.replace(/\s/gi,"")!="",t.oninput=o;else if(t.tagName=="SELECT")i.push(t),t.hasValue=t.selectedIndex>0,t.addEventListener("change",o);else throw new Error("Unexpected element!")})}let y=document.getElementById("local-content");function k(n,r,l){n.setAttribute("disabled",""),y.dataset.processing=!0;let i=!1,o=!1,e=function(){o||(o=!0,n.removeAttribute("disabled"),y.dataset.processing=!1,i||l())};r(function(){i=!0,e()},e)}function T(n){let r=b(),l,i,o;return x(()=>{S(l,"first_name","last_name")}),n.report(),[a(_,{children:"Sign Up"}),I.cloneNode(!0),$.cloneNode(!0),(()=>{const e=w.cloneNode(!0),t=e.firstChild,c=t.nextSibling,d=c.nextSibling,s=d.nextSibling;return s.nextSibling,f(e,a(p,{children:"first name"}),c),f(e,a(p,{children:"last name"}),s),e})(),a(m,{space:"around",style:{width:"400px"},get children(){return[a(E,{get children(){return[a(g,{ref(e){const t=i;typeof t=="function"?t(e):i=e},id:"first_name",type:"text",label:"First name",autocomplete:"given-name",style:{width:"calc(100% - 8px)"}}),a(g,{ref(e){const t=o;typeof t=="function"?t(e):o=e},id:"last_name",type:"text",label:"Last name",autocomplete:"family-name",style:{width:"calc(100% - 8px)"}})]}}),a(N,{children:"It's recommended to use a device that you own and use frequently to create your Ciel account!"}),a(m,{space:"between",horozontal:!0,"no-grow":!0,get children(){return[a(h,{type:"link",href:"/user/login",children:"Sign in instead"}),a(h,{ref(e){const t=l;typeof t=="function"?t(e):l=e},type:"action",function:function(){k(l,function(e,t){let c=i.children[0].children[0],d=o.children[0].children[0];[[c,i],[d,o]].forEach(function(s){/^[a-zA-Z]+$/.test(s[0].value)||(v(s[1],!1,"Can only contain letters!"),e())}),t()},function(){r("/user/register/username")})},primary:!0,children:"Next"})]}})]}})]}export{E as InputFieldsContainer,S as clientDataCheck,T as default,k as nextCheck};
