import{e as g,a as y,o as v,c as n,i as f,B as m,t as l,l as c,f as x}from"./index.53ff058e.js";import{T as _}from"./Title.a581f7e6.js";import{I as b,N as w,n as C,s as N}from"./register.edd687ec.js";import{M as I,F as p}from"./FlexContainer.57bbbc3b.js";import{u as $}from"./accounts.5552f8fa.js";const k=l("<div></div>"),S=l("<h1>Sign in</h1>"),U=l("<br>"),B=l("<h3>Use your <!> securely!</h3>");function P(a){return(()=>{const r=k.cloneNode(!0);return r.style.setProperty("width","100%"),r.style.setProperty("position","relative"),r.style.setProperty("overflow","hidden"),f(r,()=>a.children),r})()}function L(a){let r=g(),i,u,o;return y(()=>{o=document.getElementById("username"),c.username!=null&&(o.value=c.username);let e=()=>{o.value.length<3||o.value.length>20?i.setAttribute("disabled",""):i.removeAttribute("disabled")};e(),o.oninput=e,a.pageLoaded()}),v(()=>{a.pageUnloading()}),[n(_,{children:"Sign In"}),S.cloneNode(!0),U.cloneNode(!0),(()=>{const e=B.cloneNode(!0),t=e.firstChild,s=t.nextSibling;return s.nextSibling,f(e,n(I,{children:"Ciel account"}),s),e})(),n(p,{space:"around",style:{width:"400px"},get children(){return[n(P,{get children(){return n(b,{ref(e){const t=u;typeof t=="function"?t(e):u=e},id:"username",type:"text",label:"Username",autocomplete:"username",style:{width:"calc(100% - 8px)"},maxlength:20})}}),n(w,{children:"Not using your own device? Use Guest mode or Incognito mode to sign in privately."}),n(p,{space:"between",horozontal:!0,"no-grow":!0,get children(){return[n(m,{type:"link",href:"/user/register",children:"Create account"}),n(m,{ref(e){const t=i;typeof t=="function"?t(e):i=e},type:"action",function:function(){C(i,function(e,t){$(o.value,function(s,d){s?d.usernameExists?(t(),c.username=d.displayUsername):(N(u,!1,"User doesn't exist!"),e()):(x("Error!","We couldn't get a valid response from the server!",[["Ok",function(F,h){h()}]]),e())})},function(){r("/user/login/password")})},primary:!0,children:"Next"})]}})]}})]}export{P as InputFieldsContainer,L as default};
