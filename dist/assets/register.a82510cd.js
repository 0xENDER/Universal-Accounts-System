import{r as T,c as s,u as j,i as f,F,a as O,b as g,s as I,o as D,t as h,k as R}from"./index.ccc1d77b.js";import{T as M}from"./Title.a581f7e6.js";import{B as y,g as u,M as w,F as S}from"./FlexContainer.c7575bdc.js";import{I as C,N as P,s as z}from"./Notice.f3f6c788.js";const L=h("<div><div><div><text></text><text></text></div><div></div></div></div>");function N(t,n,r=!1){n?(t.style.display=null,document.documentElement.style.overflow="hidden",[document.getElementById("local-content").children[1],document.getElementById("global-bar"),document.getElementById("global-footer")].forEach(o=>o.setAttribute("inert",""))):(document.documentElement.style.overflow=null,[document.getElementById("local-content").children[1],document.getElementById("global-bar"),document.getElementById("global-footer")].forEach(o=>o.removeAttribute("inert")),r?t.remove():t.style.display="none")}function U(t,n,r){T(()=>s(H,{title:t,description:n,actions:r,show:!0}),document.body)}function H(t){let n=(()=>{const r=L.cloneNode(!0),o=r.firstChild,l=o.firstChild,e=l.firstChild,i=e.nextSibling,d=l.nextSibling,c=t.ref;return typeof c=="function"?j(c,r):t.ref=r,f(e,()=>t.title),f(i,()=>t.description),f(d,s(F,{get each(){return t.actions},children:a=>(console.log(a),s(y,{get class(){return u.actionButton},type:"action",function:function(){a[1](n,function(){N(n,!1,!0)})},light:!0,get children(){return a[0]}}))})),O(a=>{const p=u.dialogContainer,b=u.dialogBox,_=u.dialogText,$=u.dialogTitle,x=u.dialogDescription,E=u.dialogContent;return p!==a._v$&&g(r,a._v$=p),b!==a._v$2&&g(o,a._v$2=b),_!==a._v$3&&g(l,a._v$3=_),$!==a._v$4&&I(e,"class",a._v$4=$),x!==a._v$5&&I(i,"class",a._v$5=x),E!==a._v$6&&g(d,a._v$6=E),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),r})();return D(()=>{N(n,t.show)}),n}function re(t){if(typeof CryptoJS!="object"){let n=document.createElement("script");n.onload=t,n.src="/libraries/aes.js",document.head.appendChild(n)}else t()}function oe(t){return CryptoJS.MD5(t).toString()}function q(){return{name:{first:void 0,last:void 0},username:void 0,passwordHash:void 0,birthdate:{day:void 0,month:void 0,year:void 0},gender:void 0,pronounce:void 0,securityQuestions:{q1:void 0,q2:void 0,q3:void 0,a1:void 0,a2:void 0,a3:void 0},quickSettings:{}}}let m=q();function J(){m=q()}var v={1:["name.first","name.last"],2:["username"],3:["passwordHash"],4:["birthdate.day","birthdate.month","birthdate.year","gender","pronounce"],5:["securityQuestions.q1","securityQuestions.q2","securityQuestions.q3","securityQuestions.a1","securityQuestions.a2","securityQuestions.a3"]},V=Object.keys(v).length;function ae(t,n){if(console.log(m),t<1||t>V)throw new Error("Incorrect section ID!");let r=!1;for(var o in v)o=Number(o),o<=t&&v[Number(o)].forEach(l=>{l=l.split(".").reverse();let e=m[l.pop()];l.forEach(function(i){e=e[i]}),!r&&e==null&&(r=!0,n(!0))});r||n(!1)}const Z=h("<div></div>"),G=h("<h1>Create a Ciel account</h1>"),K=h("<br>"),W=h("<h3>Enter your <!> and <!>!</h3>");function A(t){return(()=>{const n=Z.cloneNode(!0);return n.style.setProperty("width","100%"),n.style.setProperty("position","relative"),n.style.setProperty("overflow","hidden"),f(n,()=>t.children),n})()}function k(t,...n){let r=[],o=[];t.setAttribute("disabled","");function l(){t.removeAttribute("disabled");for(let e=0;e<r.length;e++)if(r[e].value.replace(/\s/gi,"")==""){t.setAttribute("disabled","");break}for(let e=0;e<o.length;e++)if(o[e].selectedIndex<1){t.setAttribute("disabled","");break}}return n.forEach(function(e){let i=document.getElementById(e);if(i.tagName=="INPUT")r.push(i),i.hasValue=i.value.replace(/\s/gi,"")!="",i.oninput=l;else if(i.tagName=="SELECT")o.push(i),i.hasValue=i.selectedIndex>0,i.addEventListener("change",l);else throw new Error("Unexpected element!")}),l}let B=document.getElementById("local-content");function Q(t,n,r){t.setAttribute("disabled",""),B.dataset.processing=!0;let o=[!1],l=!1,e=function(){l||(l=!0,t.removeAttribute("disabled"),B.dataset.processing=!1,o[0]||r())};n(function(){o[0]=!0,e()},e,o)}function X(t){U("Something went wrong!","It looks like some of your registration data is missing!",[["Refill info",function(n,r){J(),t("/user/register"),r()}]])}function Y(t){let n=R(),r,o,l;return D(()=>{k(r,"first_name","last_name")}),t.report(),[s(M,{children:"Sign Up"}),G.cloneNode(!0),K.cloneNode(!0),(()=>{const e=W.cloneNode(!0),i=e.firstChild,d=i.nextSibling,c=d.nextSibling,a=c.nextSibling;return a.nextSibling,f(e,s(w,{children:"first name"}),d),f(e,s(w,{children:"last name"}),a),e})(),s(S,{space:"around",style:{width:"400px"},get children(){return[s(A,{get children(){return[s(C,{ref(e){const i=o;typeof i=="function"?i(e):o=e},id:"first_name",type:"text",label:"First name",autocomplete:"given-name",style:{width:"calc(100% - 8px)"}}),s(C,{ref(e){const i=l;typeof i=="function"?i(e):l=e},id:"last_name",type:"text",label:"Last name",autocomplete:"family-name",style:{width:"calc(100% - 8px)"}})]}}),s(P,{children:"It's recommended to use a device that you own and use frequently to create your Ciel account!"}),s(S,{space:"between",horozontal:!0,"no-grow":!0,get children(){return[s(y,{type:"link",href:"/user/login",children:"Sign in instead"}),s(y,{ref(e){const i=r;typeof i=="function"?i(e):r=e},type:"action",function:function(){Q(r,function(e,i){let d=o.children[0].children[0],c=l.children[0].children[0];[[d,o],[c,l]].forEach(function(a){/^[a-zA-Z]+$/.test(a[0].value)||(z(a[1],!1,"Can only contain letters!"),e())}),i()},function(){m.name.first=o.children[0].children[0].value,m.name.last=l.children[0].children[0].value,n("/user/register/username")})},primary:!0,children:"Next"})]}})]}})]}const le=Object.freeze(Object.defineProperty({__proto__:null,InputFieldsContainer:A,clientDataCheck:k,nextCheck:Q,redoRegister:X,default:Y},Symbol.toStringTag,{value:"Module"}));export{A as I,X as a,k as b,ae as c,le as d,oe as h,re as l,Q as n,m as r,U as s};
